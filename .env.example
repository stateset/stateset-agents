# StateSet Agents Configuration
# Copy this file to .env and fill in your values
#
# IMPORTANT: Never commit this file with real secrets to version control!

# =============================================================================
# API Server Configuration
# =============================================================================

# Environment: development, staging, production
# - development: Allows CORS wildcard, uses random JWT secret
# - production: Requires explicit CORS origins and JWT secret
API_ENVIRONMENT=development

# Server host and port
API_HOST=0.0.0.0
API_PORT=8000

# API version prefix
API_VERSION=v1

# API title for documentation
API_TITLE=StateSet Agents API

# =============================================================================
# Security Configuration (REQUIRED IN PRODUCTION)
# =============================================================================

# JWT secret for token signing (REQUIRED in production)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
API_JWT_SECRET=

# JWT algorithm (HS256, HS384, HS512)
API_JWT_ALGORITHM=HS256

# JWT token expiry in hours
API_JWT_EXPIRY_HOURS=24

# Require authentication for all endpoints (true/false)
API_REQUIRE_AUTH=true

# API keys with roles (comma-separated, format: key:role1|role2)
# Keys must be at least 32 characters
# Example: API_KEYS=my-32-char-api-key-here-1234567:admin|user,another-key-32-chars-minimum:user
API_KEYS=

# =============================================================================
# CORS Configuration
# =============================================================================

# Allowed origins (comma-separated)
# Use "*" only in development mode
# Example: https://app.stateset.ai,https://admin.stateset.ai
API_CORS_ORIGINS=

# Allow credentials in CORS requests
API_CORS_CREDENTIALS=false

# Allowed HTTP methods (comma-separated)
API_CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Allowed headers (comma-separated)
API_CORS_HEADERS=Authorization,Content-Type,X-Request-ID,X-API-Key

# CORS preflight cache max age in seconds
API_CORS_MAX_AGE=600

# =============================================================================
# Rate Limiting Configuration
# =============================================================================

# Enable rate limiting
API_RATE_LIMIT_ENABLED=true

# Maximum requests per minute
API_RATE_LIMIT_PER_MIN=60

# Burst size for rate limiting
API_RATE_LIMIT_BURST=10

# Rate limit window in seconds
API_RATE_LIMIT_WINDOW=60

# =============================================================================
# Input Validation Configuration
# =============================================================================

# Maximum number of prompts per training request
API_MAX_PROMPTS=8

# Maximum length of each prompt in characters
API_MAX_PROMPT_LENGTH=4000

# Maximum length of conversation messages in characters
API_MAX_MESSAGE_LENGTH=4000

# Maximum training iterations per request
API_MAX_ITERATIONS=50

# Maximum request body size in MB
API_MAX_REQUEST_SIZE_MB=10

# =============================================================================
# Observability Configuration
# =============================================================================

# Enable Prometheus metrics endpoint
API_ENABLE_PROMETHEUS=false

# Enable distributed tracing
API_ENABLE_TRACING=false

# OpenTelemetry collector endpoint (if tracing enabled)
API_TRACING_ENDPOINT=

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
API_LOG_LEVEL=INFO

# Log format (json for production, console for development)
API_LOG_FORMAT=json

# =============================================================================
# StateSet Platform Configuration
# =============================================================================

# REST API endpoint
STATESET_API_URL=http://localhost:8080/api/v1

# gRPC endpoint (optional - leave empty to use REST only)
STATESET_GRPC_URL=http://localhost:8081

# API Key for authentication
STATESET_API_KEY=your-api-key-here

# Request timeout in seconds
STATESET_TIMEOUT_SECS=30

# Maximum retry attempts for failed requests
STATESET_MAX_RETRIES=3

# Prefer gRPC over REST when available (true/false)
STATESET_PREFER_GRPC=false

# =============================================================================
# OpenAI Configuration
# =============================================================================

# OpenAI API Key
OPENAI_API_KEY=sk-your-openai-key-here

# Model for chat completions
OPENAI_MODEL=gpt-4o-mini

# Model for embeddings
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Maximum tokens for completions
OPENAI_MAX_TOKENS=2048

# Temperature for generation (0.0 - 1.0)
OPENAI_TEMPERATURE=0.7

# =============================================================================
# Agent Configuration
# =============================================================================

# Fulfillment Agent
FULFILLMENT_AGENT_ENABLED=true
FULFILLMENT_AGENT_INTERVAL_SECS=60

# Customer Service Agent
CUSTOMER_SERVICE_AGENT_ENABLED=true
CUSTOMER_SERVICE_AGENT_INTERVAL_SECS=60

# Supplier Management Agent
SUPPLIER_AGENT_ENABLED=true
SUPPLIER_AGENT_INTERVAL_SECS=300

# Demand Forecast Agent
DEMAND_FORECAST_AGENT_ENABLED=true
DEMAND_FORECAST_AGENT_INTERVAL_SECS=3600

# Quality Control Agent
QUALITY_CONTROL_AGENT_ENABLED=true
QUALITY_CONTROL_AGENT_INTERVAL_SECS=300

# Order Routing Agent
ORDER_ROUTING_AGENT_ENABLED=true
ORDER_ROUTING_AGENT_INTERVAL_SECS=10

# =============================================================================
# Redis Configuration (optional)
# =============================================================================

# Redis URL for state persistence and caching
REDIS_URL=redis://localhost:6379

# Key prefix for namespacing
REDIS_PREFIX=stateset_agents:

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (trace, debug, info, warn, error)
LOG_LEVEL=info

# Output logs as JSON (true/false)
LOG_JSON=false
